{"ast":null,"code":"import _slicedToArray from\"D:\\\\Programming\\\\Projects\\\\Lets-Buy-master\\\\Lets-Buy-master\\\\lets buy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import\"./Orders.css\";import{useStateValue}from'./StateProvider';import{db}from\"./firebase\";import Order from'./Order';function Orders(){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,user=_useStateValue2$.user,dispatch=_useStateValue2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];useEffect(function(){if(user){db.collection('users').doc(user===null||user===void 0?void 0:user.uid).collection('orders').orderBy('created','desc').onSnapshot(function(snapshot){return setOrders(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});}else{setOrders([]);}},[user]);return/*#__PURE__*/React.createElement(\"div\",{className:\"orders\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Your Orders\"),/*#__PURE__*/React.createElement(\"div\",{className:\"orders__order\"},orders===null||orders===void 0?void 0:orders.map(function(order){return/*#__PURE__*/React.createElement(Order,{order:order});})));}export default Orders;","map":{"version":3,"names":["React","useState","useEffect","useStateValue","db","Order","Orders","basket","user","dispatch","orders","setOrders","collection","doc","uid","orderBy","onSnapshot","snapshot","docs","map","id","data","order"],"sources":["D:/Programming/Projects/Lets-Buy-master/Lets-Buy-master/lets buy/src/Orders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport \"./Orders.css\";\nimport { useStateValue } from './StateProvider';\nimport { db } from \"./firebase\";\nimport Order from './Order';\n\nfunction Orders() {\n    const [{ basket, user }, dispatch] = useStateValue();\n    const [orders, setOrders] = useState([]);\n\n    useEffect(() => {\n        if (user) {\n            db\n                .collection('users')\n                .doc(user?.uid)\n                .collection('orders')\n                .orderBy('created', 'desc')\n                .onSnapshot(snapshot => (\n                    setOrders(snapshot.docs.map(doc => ({\n                        id: doc.id,\n                        data: doc.data()\n                    })))\n                ))\n        } else {\n            setOrders([]);\n        }\n    }, [user]);\n\n    return (\n        <div className=\"orders\">\n            <h1>Your Orders</h1>\n\n            <div className=\"orders__order\">\n                {orders?.map(order => (\n                    <Order order={order} />\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default Orders;\n"],"mappings":"iMAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,cAAP,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,OAASC,EAAT,KAAmB,YAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CAEA,QAASC,CAAAA,MAAT,EAAkB,CACd,mBAAqCH,aAAa,EAAlD,sFAASI,MAAT,kBAASA,MAAT,CAAiBC,IAAjB,kBAAiBA,IAAjB,CAAyBC,QAAzB,oBACA,cAA4BR,QAAQ,CAAC,EAAD,CAApC,wCAAOS,MAAP,eAAeC,SAAf,eAEAT,SAAS,CAAC,UAAM,CACZ,GAAIM,IAAJ,CAAU,CACNJ,EAAE,CACGQ,UADL,CACgB,OADhB,EAEKC,GAFL,CAESL,IAFT,SAESA,IAFT,iBAESA,IAAI,CAAEM,GAFf,EAGKF,UAHL,CAGgB,QAHhB,EAIKG,OAJL,CAIa,SAJb,CAIwB,MAJxB,EAKKC,UALL,CAKgB,SAAAC,QAAQ,QAChBN,CAAAA,SAAS,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAN,GAAG,QAAK,CAChCO,EAAE,CAAEP,GAAG,CAACO,EADwB,CAEhCC,IAAI,CAAER,GAAG,CAACQ,IAAJ,EAF0B,CAAL,EAArB,CAAD,CADO,EALxB,EAWH,CAZD,IAYO,CACHV,SAAS,CAAC,EAAD,CAAT,CACH,CACJ,CAhBQ,CAgBN,CAACH,IAAD,CAhBM,CAAT,CAkBA,mBACI,2BAAK,SAAS,CAAC,QAAf,eACI,4CADJ,cAGI,2BAAK,SAAS,CAAC,eAAf,EACKE,MADL,SACKA,MADL,iBACKA,MAAM,CAAES,GAAR,CAAY,SAAAG,KAAK,qBACd,oBAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,EADc,EAAjB,CADL,CAHJ,CADJ,CAWH,CAED,cAAehB,CAAAA,MAAf"},"metadata":{},"sourceType":"module"}